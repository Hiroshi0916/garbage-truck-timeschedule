{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\n\n// 以下の部分でwindowオブジェクトの型を拡張\n\nfunction useGoogleMapsAPI(apiKey) {\n  _s();\n  // const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initGoogleMapsAPILoaded`;\n    script.async = true;\n    script.defer = true;\n    window.initGoogleMapsAPILoaded = () => setIsLoaded(true);\n    const existingScript = document.querySelector(`script[src^=\"https://maps.googleapis.com/maps/api/js?key=\"]`);\n    if (!existingScript) {\n      document.body.appendChild(script);\n    }\n    return () => {\n      document.body.removeChild(script);\n      window.initGoogleMapsAPILoaded = undefined; // ここを変更\n    };\n  }, [apiKey]);\n  return isLoaded;\n}\n_s(useGoogleMapsAPI, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useGoogleMapsAPI;","map":{"version":3,"names":["useEffect","useGoogleMapsAPI","apiKey","_s","script","document","createElement","src","async","defer","window","initGoogleMapsAPILoaded","setIsLoaded","existingScript","querySelector","body","appendChild","removeChild","undefined","isLoaded"],"sources":["/Users/hiroshiobata/dev/garbage-truck-timeschedule/map-pin-app/frontend/src/useGoogleMapsAPI.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\n\n// 以下の部分でwindowオブジェクトの型を拡張\ndeclare global {\n  interface Window {\n    initGoogleMapsAPILoaded?: () => void | undefined;\n  }\n}\n\nfunction useGoogleMapsAPI(apiKey: string) {\n  // const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initGoogleMapsAPILoaded`;\n    script.async = true;\n    script.defer = true;\n    window.initGoogleMapsAPILoaded = () => setIsLoaded(true);\n    const existingScript = document.querySelector(`script[src^=\"https://maps.googleapis.com/maps/api/js?key=\"]`);\n    if (!existingScript) {\n      document.body.appendChild(script);\n    }\n\n    return () => {\n      document.body.removeChild(script);\n      window.initGoogleMapsAPILoaded = undefined; // ここを変更\n    };\n  }, [apiKey]);\n\n  return isLoaded;\n}\n\nexport default useGoogleMapsAPI;"],"mappings":";AAAA,SAAmBA,SAAS,QAAQ,OAAO;;AAE3C;;AAOA,SAASC,gBAAgBA,CAACC,MAAc,EAAE;EAAAC,EAAA;EACxC;;EAEAH,SAAS,CAAC,MAAM;IACd,MAAMI,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAI,+CAA8CL,MAAO,mCAAkC;IACrGE,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBJ,MAAM,CAACK,KAAK,GAAG,IAAI;IACnBC,MAAM,CAACC,uBAAuB,GAAG,MAAMC,WAAW,CAAC,IAAI,CAAC;IACxD,MAAMC,cAAc,GAAGR,QAAQ,CAACS,aAAa,CAAE,6DAA4D,CAAC;IAC5G,IAAI,CAACD,cAAc,EAAE;MACnBR,QAAQ,CAACU,IAAI,CAACC,WAAW,CAACZ,MAAM,CAAC;IACnC;IAEA,OAAO,MAAM;MACXC,QAAQ,CAACU,IAAI,CAACE,WAAW,CAACb,MAAM,CAAC;MACjCM,MAAM,CAACC,uBAAuB,GAAGO,SAAS,CAAC,CAAC;IAC9C,CAAC;EACH,CAAC,EAAE,CAAChB,MAAM,CAAC,CAAC;EAEZ,OAAOiB,QAAQ;AACjB;AAAChB,EAAA,CArBQF,gBAAgB;AAuBzB,eAAeA,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}